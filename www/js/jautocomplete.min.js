/*
 jQuery jautocomplete Plugin 2.0.137 
 Copyright 2013 Miriam Zusin. All rights reserved.
 To use this file you must to buy a licence at http://codecanyon.net/user/no81no/portfolio 
*/
(function(d){var g=function(e,c){var f={options:e,$root:c,data:null,view:null};f.options=$.extend({submitUrl:function(a){return"https://www.google.com/#q="+a},dataSource:"",dataArray:[],oneFile:"",server:function(a){return{url:"server.php?val="+a,dataType:"json",type:"GET",cache:!1}},minChars:1,maxItems:5,matchCase:!1,matchFromStart:!1,filterBy:["title","desc"],templatePath:"#jautocompleteTemplate",onSuggest:function(a){},onSelect:function(a,c,d){},dataReadyEvent:"dataReadyEvent",getDataEvent:"getDataEvent",
drawDataEvent:"drawDataEvent"},e);f.view=new d.fn.jautocomplete.view(f.$root,f.options);f.data=new d.fn.jautocomplete.data(f.$root,f.options);return d.extend(this,f)};d.fn.jautocomplete=function(d){return this.each(function(){var c=new g(d,$(this));$(this).data("jautocomplete",c);return c})}})(jQuery);(function(d){var g=function(c){c.$root.bind(c.options.getDataEvent,function(f,a){var e=[];if(c.options.dataSource)switch(c.options.dataSource){case "array":e=jQuery.fn.jautocomplete.helper.filterOneFileJsonByValue(c.options,a,c.options.dataArray);c.$root.trigger(c.options.drawDataEvent,[e,a]);break;case "oneFile":e=jQuery.fn.jautocomplete.helper.filterOneFileJsonByValue(c.options,a,c.oneFileData);c.$root.trigger(c.options.drawDataEvent,[e,a]);break;case "server":d.isFunction(c.options.server)&&(e=
c.options.server(a),d.ajax(e).done(function(d){c.$root.trigger(c.options.drawDataEvent,[d,a])}))}})},e=function(c,e){var a={$root:c,options:e,oneFileData:null};if(a.options.dataSource)switch(a.options.dataSource){case "array":g(a);a.$root.trigger(a.options.dataReadyEvent,[]);break;case "oneFile":d.ajax({url:a.options.oneFile,dataType:"json",type:"GET",cache:!1}).done(function(c){a.oneFileData=c;g(a);a.$root.trigger(a.options.dataReadyEvent,[])});break;case "server":g(a),a.$root.trigger(a.options.dataReadyEvent,
[])}return jQuery.extend(this,a)};jQuery.fn.jautocomplete.data=function(c,d){return new e(c,d)}})(jQuery);(function(d){var g=function(b){var a;a=b.$placeholder.attr("data-length");a=Number(a);!isNaN(a)&&0<a?(b.$placeholder.show(0),a=b.$actions.outerHeight(),b.$placeholder.css("top",a+"px")):e(b)},e=function(b){d('[ data-type="placeholder"]').each(function(){var b=d(this);!0===b.data("jautocomplete-placeholder")&&b.hide(0)})},c=function(b){0>=b.$input.next('[data-type="placeholder"]').length&&b.$input.after('<div data-type="placeholder" class="jautocomplete-placeholder"></div>');b.$placeholder=b.$root.find('[data-type="placeholder"]').eq(0);
b.$placeholder.data("jautocomplete-placeholder",!0);g(b)},f=function(b){var a,h;a=b.$placeholder.find('[data-type="item"]');0<a.length?(a=a.filter(".ja-active"),0<a.length?(h=a.attr("href"))?(e(b),window.location.href=h):a.trigger("click"):b.$btn.trigger("click")):b.$btn.trigger("click")},a=function(b,a){var h,c,e;b.$placeholder.is(":visible")&&(h=b.$placeholder.find('[data-type="item"]'),0<h.length&&(e=-1,h.each(function(b,a){var h=d(a);h.hasClass("ja-active")&&(e=b,c=h)}),h.removeClass("ja-active"),
"up"===a?-1!==e&&(0<=e-1?(h=h.eq(e-1),h.addClass("ja-active")):c.addClass("ja-active")):-1===e?h.eq(0).addClass("ja-active"):e+1<h.length?(h=h.eq(e+1),h.addClass("ja-active")):c.addClass("ja-active")))},k=function(b){b.$input.on("keyup",function(c){var h;c.stopPropagation();h=d.trim(d(this).val());switch(c.keyCode){case b.askii.UP:a(b,"up");break;case b.askii.DOWN:a(b,"down");break;case b.askii.ENTER:f(b);break;case b.askii.RETURN:f(b);break;default:if(h.length>=b.options.minChars||0===h.length)b.$root.addClass("jautocomplete-loading"),
b.$root.trigger(b.options.getDataEvent,[h])}})},l=function(b){b.$root.on(b.options.drawDataEvent,function(a,c,e){a="";a=d.render[b.options.templatePath]({data:c});b.$placeholder.html(a);b.$placeholder.attr("data-length",c.length);g(b);b.$root.removeClass("jautocomplete-loading");if(d.isFunction(b.options.onSuggest))b.options.onSuggest(c,e)})},m=function(b){k(b);l(b);d(window).resize(function(){b.$placeholder.is(":visible")&&g(b)});b.$input.on("click",function(a){a.stopPropagation();e(b);g(b)});d(document).on("click",
function(){e(b)});b.$placeholder.on("click",function(b){b.stopPropagation()});b.$placeholder.on("click",'[data-close="true"]',function(){var a=d(this),c=d.trim(a.text());b.$input.val(c);e(b);if(d.isFunction(b.options.onSelect))b.options.onSelect(a,c,b.$input)});b.$btn.on("click",function(a){a.preventDefault();d.isFunction(b.options.submitUrl)&&(a=b.options.submitUrl(b.$input.val()),window.location.href=a);return!1})},n=function(a){d.views.helpers({group:function(a,b){return jQuery.fn.jautocomplete.helper.groupObjectsByProperty(a,
b)}})},p=function(a){var c={},e;n(a);e=d(a.options.templatePath);0<e.length&&(c[a.options.templatePath]=e.get(0));d.templates(c)},q=function(a,e){var d={$root:a,options:e,$actions:a.find('[data-type="actions"]'),$input:null,$btn:null,$placeholder:null,askii:{LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,RETURN:3}};d.$input=d.$actions.find('[data-type="tb"]');d.$btn=d.$actions.find('[data-type="btn"]');d.$input.val("");c(d);p(d);d.$root.on(d.options.dataReadyEvent,function(a){m(d)});return jQuery.extend(this,
d)};jQuery.fn.jautocomplete.view=function(a,c){return new q(a,c)}})(jQuery);(function(d){jQuery.fn.jautocomplete.helper={};jQuery.fn.jautocomplete.helper.inArray=function(g,e,c){for(var f=-1,a,k=0;k<e.length;k++)if(a=e[k],d.isFunction(c)&&(a=c(g,a))){f=k;break}return f};jQuery.fn.jautocomplete.helper.groupObjectsByProperty=function(g,e){var c,f=[],a,k;if(d.isArray(g))for(var l=0;l<g.length;l++)if(c=g[l])if(k=c[e])a=jQuery.fn.jautocomplete.helper.inArray(k,f,function(a,c){return c[e]===a}),-1===a?(a={},a.category=k,a.list=[],a.list.push(c),f.push(a)):f[a].list.push(c);return f};
jQuery.fn.jautocomplete.helper.filterOneFileJsonByValue=function(g,e,c){var f,a,k=[],l;if(e&&c&&(e=d.trim(e),""!==e))for(var m=0;m<c.length;m++)if(f=c[m],a=k.length>=g.maxItems,!a&&d.isArray(g.filterBy))for(a=0;a<g.filterBy.length;a++)if(l=d.trim(g.filterBy[a]),l=f[l])if(l=d.trim(l),g.matchCase||(e=e.toLowerCase(),l=l.toLowerCase()),g.matchFromStart){if(0===l.indexOf(e)){k.push(f);break}}else if(-1!==l.indexOf(e)){k.push(f);break}return k}})(jQuery);
