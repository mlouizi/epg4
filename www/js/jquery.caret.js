(function(e){e.caretTo=function(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t);n.select()}else if(e.selectionStart!=null){e.focus();e.setSelectionRange(t,t)}};e.caretPos=function(e){if("selection"in document){var t=e.createTextRange();try{t.setEndPoint("EndToStart",document.selection.createRange())}catch(n){return 0}return t.text.length}else if(e.selectionStart!=null){return e.selectionStart}};e.fn.caret=function(t,n){if(typeof t==="undefined"){return e.caretPos(this.get(0))}return this.queue(function(r){if(isNaN(t)){var i=e(this).val().indexOf(t);if(n===true){i+=t.length}else if(typeof n!=="undefined"){i+=n}e.caretTo(this,i)}else{e.caretTo(this,t)}r()})};e.fn.caretToStart=function(){return this.caret(0)};e.fn.caretToEnd=function(){return this.queue(function(t){e.caretTo(this,e(this).val().length);t()})}})(jQuery)